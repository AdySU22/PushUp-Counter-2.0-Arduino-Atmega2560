#include "infrared_sensor.h"

void init_infrared_sensor_pin(void) {
#ifdef INFRARED_VCC_ENABLE
	INFRARED_SENSOR_DDR = (INFRARED_SENSOR_DDR & ~(INFRARED_SENSOR_PIN_MASK)) | INFRARED_SENSOR_GND_PIN_MASK | INFRARED_SENSOR_VCC_PIN_MASK;
	INFRARED_SENSOR_PORT = (INFRARED_SENSOR_PORT & ~(INFRARED_SENSOR_GND_PIN_MASK)) | INFRARED_SENSOR_PIN_MASK | INFRARED_SENSOR_VCC_PIN_MASK;
#else
	INFRARED_SENSOR_DDR &= ~(INFRARED_SENSOR_PIN_MASK);
	INFRARED_SENSOR_PORT &= ~INFRARED_SENSOR_PIN_MASK;
#endif // INFRARED_VCC_ENABLE
	PCICR |= INFRARED_SENSOR_PCIE_MASK;
	INFRARED_SENSOR_PCMSK |= INFRARED_SENSOR_PCINT_MASK;
}

void toggle_infrared_sensor(void) {
	INFRARED_SENSOR_PCMSK ^= INFRARED_SENSOR_PCINT_MASK;
}